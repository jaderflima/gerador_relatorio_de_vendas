{"version":3,"file":"vega-datasets.min.js","sources":["../node_modules/d3-dsv/src/dsv.js","../node_modules/d3-dsv/src/csv.js","../node_modules/d3-dsv/src/autoType.js","../src/urls.ts","../src/data.ts"],"sourcesContent":["var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nconst fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();",null,null],"names":["EOL","EOF","objectConverter","columns","Function","map","name","i","JSON","stringify","join","inferColumns","rows","columnSet","Object","create","forEach","row","column","push","pad","value","width","s","length","Array","formatDate","date","year","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","isNaN","getUTCFullYear","getUTCMonth","getUTCDate","csvParse","delimiter","reFormat","RegExp","DELIMITER","charCodeAt","parseRows","text","f","t","N","I","n","eof","eol","token","c","j","slice","replace","preformatBody","formatValue","formatRow","Date","test","parse","convert","object","customConverter","format","concat","formatBody","formatRows","dsv","autoType","key","number","m","trim","NaN","match","fixtz","getHours","urls","pkg","data","version","keys","url","async","result","fetch","endsWith","json","d3.csvParse","d3.autoType"],"mappings":"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","x_google_ignoreList":[0,1,2]}